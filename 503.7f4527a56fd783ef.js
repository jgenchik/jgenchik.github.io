"use strict";(self.webpackChunkcvs=self.webpackChunkcvs||[]).push([[503],{6503:(S,f,e)=>{e.r(f),e.d(f,{ExpansionPanelModule:()=>Q});var s=e(9808),T=e(9516),Z=e(6727),C=e(1086),h=e(4850),y=e(9563),x=e(2473),r=e(3075),u=e(7489),t=e(5e3),d=e(8966),c=e(7322),U=e(8833),E=e(4107),w=e(508),P=e(2368),A=e(7423);function q(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function O(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function W(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Should be a positive number"),t.qZA())}function D(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Select color"),t.qZA())}let N=(()=>{class n{constructor(o,i){this.dialogRef=o,this.fb=i,this.form=this.buildWidgetForm()}ngOnInit(){}submitForm(){this.dialogRef.close(this.form.value)}setDummyFormData(){const o=u.random(1,3),i=1===o?"BLUE":2===o?"RED":"GREEN",l=u.random(10,999);this.form.patchValue({name:"Dummy-"+u.random(1,9999),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:l,color:i,sale:l<300})}buildWidgetForm(){return this.fb.group({name:[null,[r.kI.required]],description:[""],price:[null,[r.kI.required,r.kI.min(0)]],color:[null,r.kI.required],sale:[!1,r.kI.required]})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(d.so),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-widget-dialog"]],decls:35,vars:6,consts:[["mat-dialog-title",""],["novalidate","",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","placeholder","Nane","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","Description","formControlName","description","rows","4"],["matInput","","type","number","placeholder","Price","formControlName","price"],["formControlName","color"],["value",""],["value","BLUE"],["value","RED"],["value","GREEN"],["formControlName","sale"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-button","","mat-dialog-close",""],["mat-button","","type","button",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"h2",0),t._uU(1,"New Widget"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(3,"mat-dialog-content"),t.TgZ(4,"mat-form-field",2),t._UZ(5,"input",3),t.YNc(6,q,2,0,"mat-error",4),t.qZA(),t.TgZ(7,"mat-form-field",2),t._UZ(8,"textarea",5),t.qZA(),t.TgZ(9,"mat-form-field",2),t._UZ(10,"input",6),t.YNc(11,O,2,0,"mat-error",4),t.YNc(12,W,2,0,"mat-error",4),t.qZA(),t.TgZ(13,"mat-form-field"),t.TgZ(14,"mat-label"),t._uU(15,"Color"),t.qZA(),t.TgZ(16,"mat-select",7),t.TgZ(17,"mat-option",8),t._uU(18,"Select Color"),t.qZA(),t.TgZ(19,"mat-option",9),t._uU(20,"Blue"),t.qZA(),t.TgZ(21,"mat-option",10),t._uU(22,"Red"),t.qZA(),t.TgZ(23,"mat-option",11),t._uU(24,"Green"),t.qZA(),t.qZA(),t.YNc(25,D,2,0,"mat-error",4),t.qZA(),t.TgZ(26,"mat-slide-toggle",12),t._uU(27,"Sale"),t.qZA(),t.qZA(),t.TgZ(28,"mat-dialog-actions"),t.TgZ(29,"button",13),t._uU(30,"ADD"),t.qZA(),t.TgZ(31,"button",14),t._uU(32,"CANCEL"),t.qZA(),t.TgZ(33,"button",15),t.NdJ("click",function(){return i.setDummyFormData()}),t._uU(34,"PRE POPILATE"),t.qZA(),t.qZA(),t.qZA()),2&o){let l,p,m,v;t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(4),t.Q6J("ngIf",null==(l=i.form.get("name"))?null:l.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(p=i.form.get("price"))?null:p.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(m=i.form.get("price"))?null:m.hasError("min")),t.xp6(13),t.Q6J("ngIf",null==(v=i.form.get("color"))?null:v.hasError("required")),t.xp6(4),t.Q6J("disabled",!i.form.valid)}},directives:[d.uh,r._Y,r.JL,r.sg,d.xY,c.KE,U.Nt,r.Fj,r.JJ,r.u,r.Q7,s.O5,c.TO,r.wV,c.hX,E.gD,w.ey,P.Rr,d.H8,A.lW,d.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();var F=e(5245),g=e(1125),I=e(4834);function b(n,a){if(1&n&&(t.TgZ(0,"div",8),t.TgZ(1,"span",9),t._uU(2),t.qZA(),t._uU(3," - "),t.TgZ(4,"span",9),t._uU(5),t.ALo(6,"currency"),t.qZA(),t._uU(7),t.qZA()),2&n){const o=a.$implicit;t.xp6(2),t.Oqu(o.name),t.xp6(3),t.Oqu(t.lcZ(6,3,o.price)),t.xp6(2),t.hij(" - ",o.color," ")}}function J(n,a){if(1&n&&(t.TgZ(0,"mat-expansion-panel"),t.TgZ(1,"mat-expansion-panel-header"),t.TgZ(2,"mat-panel-title",5),t._uU(3),t.TgZ(4,"span",6),t._uU(5),t.ALo(6,"async"),t.qZA(),t.qZA(),t.qZA(),t.YNc(7,b,8,5,"div",7),t.ALo(8,"async"),t.qZA()),2&n){const o=a.$implicit,i=t.oxw();t.xp6(3),t.hij(" ",o," "),t.xp6(2),t.hij("(",t.lcZ(6,3,i.groupedWidgets$)[o].length,")"),t.xp6(2),t.Q6J("ngForOf",t.lcZ(8,5,i.groupedWidgets$)[o])}}let R=(()=>{class n{constructor(o,i){this.store=o,this.dialog=i,this.allWidgets$=(0,C.of)([])}ngOnInit(){this.store.dispatch((0,x.rZ)()),this.allWidgets$=this.store.pipe((0,Z.Ys)(y.Zx)),this.groupedWidgets$=this.allWidgets$.pipe((0,h.U)(o=>this.groupBy(o,"color"))),this.colors$=this.groupedWidgets$.pipe((0,h.U)(o=>Object.keys(o)))}openAddWidgetDialog(){this.dialog.open(N,{width:"450px"}).afterClosed().subscribe(i=>{i&&this.store.dispatch((0,x.w6)({widget:i}))})}groupBy(o,i){return o.reduce((l,p)=>{const m=p[i];return l[m]||(l[m]=[]),l[m].push(p),l},{})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(Z.yh),t.Y36(d.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-expansion-panel"]],decls:9,vars:3,consts:[["id","container"],[1,"w-full","flex","justify-end","mb-2"],["mat-mini-fab","",3,"click"],["togglePosition","before",1,"w-auto"],[4,"ngFor","ngForOf"],[1,"font-bold"],[1,"ml-2","font-normal"],["class","text-lg w-auto first:mr-4 text-gray-500",4,"ngFor","ngForOf"],[1,"text-lg","w-auto","first:mr-4","text-gray-500"],[1,"widget-data"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.openAddWidgetDialog()}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"mat-accordion",3),t.YNc(6,J,9,7,"mat-expansion-panel",4),t.ALo(7,"async"),t.qZA(),t.qZA(),t._UZ(8,"mat-divider")),2&o&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,1,i.colors$)))},directives:[A.lW,F.Hw,g.pp,s.sg,g.ib,g.yz,g.yK,I.d],pipes:[s.Ov,s.H9],styles:["#container[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){#container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){#container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){#container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){#container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){#container[_ngcontent-%COMP%]{max-width:1536px}}#container[_ngcontent-%COMP%]{margin:1.5rem;display:flex;width:auto;flex-direction:column;align-items:center;padding:1.5rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.widget-data[_ngcontent-%COMP%]{margin-right:.75rem}"]}),n})();var M=e(6517),Y=e(8670),L=e(4466);const $=[{path:"",component:R}];let Q=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,L.m,T.Bz.forChild($),M.sQ.forFeature([Y.q])]]}),n})()}}]);