"use strict";(self.webpackChunkcvs=self.webpackChunkcvs||[]).push([[122],{7122:(k,h,o)=>{o.r(h),o.d(h,{SpeechModule:()=>w});var v=o(9808),g=o(9516),e=o(5e3);let f=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-speech"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"speech works!"),e.qZA())},styles:[""]}),i})();var c=o(9224),m=o(5245),x=o(2368),p=o(7423);let C=(()=>{class i{constructor(t,n){this.ngZone=t,this.router=n,this.voiceActiveSectionDisabled=!0,this.voiceActiveSectionError=!1,this.voiceActiveSectionSuccess=!1,this.voiceActiveSectionListening=!1,this.headerColor="black",this.appendText=!1,this.voiceText=""}ngOnInit(){this.initializeVoiceRecognitionCallback()}initializeVoiceRecognitionCallback(){annyang.addCallback("error",t=>{"network"===t.error?(this.voiceText="Internet is require",annyang.abort(),this.ngZone.run(()=>this.voiceActiveSectionSuccess=!0)):""===this.voiceText&&(this.ngZone.run(()=>this.voiceActiveSectionError=!0),annyang.abort())}),annyang.addCallback("soundstart",t=>{console.log("soundstart"),this.ngZone.run(()=>this.voiceActiveSectionListening=!0)}),annyang.addCallback("end",()=>{console.log("ended"),""===this.voiceText&&(this.ngZone.run(()=>this.voiceActiveSectionError=!0),annyang.abort())}),annyang.addCallback("result",t=>{this.ngZone.run(()=>{this.voiceActiveSectionError=!1;let n=t[0];annyang.abort(),this.appendText?this.voiceText+=(0===this.voiceText.length?"":" ")+n:this.voiceText=n,this.voiceActiveSectionListening=!1,this.voiceActiveSectionSuccess=!0})})}startVoiceRecognition(){console.log("in startVoiceRecognition"),this.voiceActiveSectionDisabled=!1,this.voiceActiveSectionError=!1,this.voiceActiveSectionSuccess=!1,this.appendText||(this.voiceText=""),annyang&&(annyang.addCommands({"set header to :color":n=>{console.log("in set header"),this.ngZone.run(()=>this.headerColor=n.toLocaleLowerCase())},"make an appointment":()=>{console.log("making an appointment"),this.router.navigate(["minute-clinic"])}}),annyang.start({autoRestart:!1}))}closeVoiceRecognition(){console.log("this.voiceText",this.voiceText),this.voiceActiveSectionDisabled=!0,this.voiceActiveSectionError=!1,this.voiceActiveSectionSuccess=!1,this.voiceActiveSectionListening=!1,this.voiceText="",annyang&&annyang.abort()}setBackgroundComand(t){console.log("color",t),this.ngZone.run(()=>console.log("this.headerColor",this.headerColor))}appendToggleChanged(t){this.appendText=t.checked}listeningColor(){return this.voiceActiveSectionDisabled?"white":this.voiceActiveSectionDisabled||this.voiceActiveSectionListening?!this.voiceActiveSectionDisabled&&this.voiceActiveSectionListening?"green":"":"#FF8C00"}sayIt(){let t=new SpeechSynthesisUtterance(this.voiceText);speechSynthesis.speak(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.R0b),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recognition"]],decls:34,vars:11,consts:[[1,"container"],[2,"flex-grow","1"],[1,"indicators"],[1,"mt-6"],[1,"voice-text"],[3,"checked","change"],[1,"instructions"],["mat-raised-button","",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"div"),e._uU(4,"Speech Recognition"),e.qZA(),e._UZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"mat-icon"),e._uU(8,"hearing"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"mat-card-content",3),e.TgZ(10,"div",4),e._uU(11),e.qZA(),e.TgZ(12,"mat-slide-toggle",5),e.NdJ("change",function(b){return n.appendToggleChanged(b)}),e._uU(13,"Append Text"),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"p"),e._uU(16,"Say "),e.TgZ(17,"q"),e._uU(18,"set header to [COLOR]"),e.qZA(),e._uU(19," and watch the Card header"),e.qZA(),e.TgZ(20,"p"),e._uU(21,"Or say "),e.TgZ(22,"q"),e._uU(23,"make an appointment"),e.qZA(),e._uU(24," and the app will perform navigation"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"mat-card-actions"),e.TgZ(26,"button",7),e.NdJ("click",function(){return n.startVoiceRecognition()}),e.TgZ(27,"mat-icon"),e._uU(28,"mic"),e.qZA(),e._uU(29,"LISTEN "),e.qZA(),e.TgZ(30,"button",7),e.NdJ("click",function(){return n.closeVoiceRecognition()}),e._uU(31,"STOP"),e.qZA(),e.TgZ(32,"button",7),e.NdJ("click",function(){return n.sayIt()}),e._uU(33,"SAY IT"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Udp("color",n.headerColor),e.xp6(5),e.Udp("color",n.listeningColor()),e.xp6(4),e.hij(" ",n.voiceText," "),e.xp6(1),e.Q6J("checked",n.appendText),e.xp6(14),e.Q6J("disabled",n.voiceActiveSectionListening),e.xp6(1),e.Udp("color",n.listeningColor()),e.xp6(3),e.Q6J("disabled",n.voiceActiveSectionDisabled),e.xp6(2),e.Q6J("disabled",!n.voiceText.length))},directives:[c.a8,c.n5,m.Hw,c.dn,x.Rr,c.hq,p.lW],styles:["main[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){main[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){main[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){main[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){main[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){main[_ngcontent-%COMP%]{max-width:1536px}}main[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-left:1.5rem;margin-right:1.5rem;margin-top:2rem;max-width:600px}mat-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:row}.voice-text[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;min-width:100%;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding:1.5rem;font-size:2.25rem;line-height:2.5rem;max-width:100%}.indicatirs[_ngcontent-%COMP%]{justify-self:end}.instructions[_ngcontent-%COMP%]{margin-top:2rem;min-width:100%;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));padding:1.5rem;font-size:1rem;line-height:1.5rem;opacity:.4}q[_ngcontent-%COMP%]{font-style:italic}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:1rem}"]}),i})();var l,S=o(4466),u=o(655),T=o(7322),Z=o(8833),A=o(4533),d=o(3075);class r{constructor(){l.set(this,"Once upon a midnight dreary, while I pondered, weak and weary,\n  Over many a quaint and curious volume of forgotten lore\u2014\n      While I nodded, nearly napping, suddenly there came a tapping,\n  As of some one gently rapping, rapping at my chamber door.\n  \u201c\u2019Tis some visitor,\u201d I muttered, \u201ctapping at my chamber door\u2014\n      Only this and nothing more.\u201d"),this.voices=[],this.phrase="",this.isSpeaking=speechSynthesis.speaking}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){})}speak(){let a=new SpeechSynthesisUtterance(this.phrase);speechSynthesis.speak(a),this.checkSpeakingStatus()}cancel(){speechSynthesis.cancel()}setDefaultPhrase(){this.phrase=(0,u.Q_)(this,l,"f")}checkSpeakingStatus(){this.isSpeaking=speechSynthesis.speaking,speechSynthesis.speaking&&setTimeout(()=>{this.checkSpeakingStatus()},500)}}l=new WeakMap,r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-synthesis"]],decls:19,vars:6,consts:[[1,"mt-6"],["appearance","standard"],["matInput","","cdkTextareaAutosize","",1,"phrase",3,"ngModel","cdkAutosizeMinRows","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"main"),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"div"),e._uU(4,"Speech Synthesis"),e.qZA(),e.qZA(),e.TgZ(5,"mat-card-content",0),e.TgZ(6,"mat-form-field",1),e.TgZ(7,"textarea",2),e.NdJ("ngModelChange",function(s){return t.phrase=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"mat-card-actions"),e.TgZ(9,"button",3),e.NdJ("click",function(){return t.speak()}),e.TgZ(10,"mat-icon"),e._uU(11,"volume_up"),e.qZA(),e._uU(12,"PLAY "),e.qZA(),e.TgZ(13,"button",4),e.NdJ("click",function(){return t.cancel()}),e.TgZ(14,"mat-icon"),e._uU(15,"volume_off"),e.qZA(),e._uU(16,"CANCEL"),e.qZA(),e.TgZ(17,"button",5),e.NdJ("click",function(){return t.setDefaultPhrase()}),e._uU(18,"DEFAULT"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(7),e.Q6J("ngModel",t.phrase)("cdkAutosizeMinRows",5),e.xp6(2),e.Q6J("disabled",!t.phrase.length||t.isSpeaking),e.xp6(1),e.Udp("color",t.isSpeaking?"green":null),e.xp6(3),e.Q6J("disabled",!t.isSpeaking))},directives:[c.a8,c.n5,c.dn,T.KE,Z.Nt,A.IC,d.Fj,d.JJ,d.On,c.hq,p.lW,m.Hw],styles:["main[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){main[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){main[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){main[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){main[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){main[_ngcontent-%COMP%]{max-width:1536px}}main[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:2rem;min-width:300px;max-width:600px}mat-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:row}mat-form-field.phrase[_ngcontent-%COMP%]{min-width:100%;border-width:2px}.phrase[_ngcontent-%COMP%]{min-width:100%;border-radius:.5rem;font-size:1.125rem;line-height:1.75rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}mat-form-field[_ngcontent-%COMP%]{min-width:100%}"]});const y=[{path:"",component:f},{path:"recognition",component:C},{path:"synthesis",component:r}];let w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[v.ez,S.m,g.Bz.forChild(y)]]}),i})()}}]);