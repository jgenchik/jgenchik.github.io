"use strict";(self.webpackChunkcvs=self.webpackChunkcvs||[]).push([[619],{619:(v,r,i)=>{i.r(r),i.d(r,{NfcModule:()=>f});var a=i(9808),l=i(9516),c=i(655),t=i(5e3),m=i(7261),u=i(7423);let g=(()=>{class n{constructor(e){this.snackBar=e,this.message=""}ngOnInit(){"NDEFReader"in window?(this.ndef=new NDEFReader,this.ctrl=new AbortController,this.snackBar.open("NDEFReader is supported","",{duration:3e3})):this.snackBar.open("NDEFReader is NOT supported","x")}scan(){return(0,c.mG)(this,void 0,void 0,function*(){this.message="",this.ndef?this.ndef.scan({signal:this.ctrl.signal}).then(()=>{this.message="Scan started successfully.",this.ndef.onreadingerror=()=>{this.message+="\nCannot read data from the NFC tag. Try another one?"},this.ndef.onreading=e=>{this.message+="\nNDEF message read."}}).catch(e=>{this.message+=`\nError! Scan failed to start: ${e}.`}):this.message="NFC scanning is not supported on this device"})}stopScanning(){this.ctrl&&(this.ctrl.abort(),this.message="Scan aborted")}write(){return(0,c.mG)(this,void 0,void 0,function*(){if("NDEFReader"in window){const e=new NDEFReader;try{yield e.write({records:[{recordType:"url",data:"https://www.louvre.fr/en/explore/visitor-trails/the-louvre-s-masterpieces"},{recordType:"text",data:"The Louvre's Masterpieces"}]}),this.message+="NFC tag written."}catch(s){this.message+=`NDEF operation failed: ${s}`}}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-nfc"]],decls:18,vars:10,consts:[[1,"container"],[1,"not-supported"],[1,"message"],["mat-raised-button","","color","primary",1,"scan",3,"disabled","click"],["mat-raised-button","",1,"scan",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3,"NFC is not supported on this devixe"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._uU(5),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return s.scan()}),t._uU(7,"SCAN"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return s.stopScanning()}),t._uU(9,"ABORT"),t.qZA(),t.TgZ(10,"button",4),t.NdJ("click",function(){return s.write()}),t._uU(11,"WRITE"),t.qZA(),t.qZA(),t.TgZ(12,"div"),t._uU(13),t.ALo(14,"json"),t.qZA(),t.TgZ(15,"div"),t._uU(16),t.ALo(17,"json"),t.qZA()),2&e&&(t.xp6(5),t.Oqu(s.message),t.xp6(1),t.Q6J("disabled",!s.ndef),t.xp6(2),t.Q6J("disabled",!s.ndef),t.xp6(2),t.Q6J("disabled",!s.ndef),t.xp6(3),t.hij("ndef: ",t.lcZ(14,6,s.ndef),""),t.xp6(3),t.hij("ctrl: ",t.lcZ(17,8,s.ctrl),""))},directives:[u.lW],pipes:[a.Ts],styles:["div.not-supported[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:2rem;text-align:center;font-size:1.5rem;line-height:2rem;font-weight:800;--tw-text-opacity: 1;color:rgb(127 29 29 / var(--tw-text-opacity))}.message[_ngcontent-%COMP%]{min-height:60px;margin-left:auto;margin-right:auto;margin-top:2rem;width:91.666667%;border-width:2px}@media (min-width: 768px){.message[_ngcontent-%COMP%]{width:66.666667%}}button.scan[_ngcontent-%COMP%]{margin-top:2rem;margin-right:.5rem;margin-left:.25rem}"]}),n})();var h=i(4466);const p=[{path:"",component:g}];let f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.ez,h.m,l.Bz.forChild(p)]]}),n})()}}]);