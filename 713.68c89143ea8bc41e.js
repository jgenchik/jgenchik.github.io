"use strict";(self.webpackChunkcvs=self.webpackChunkcvs||[]).push([[713],{713:(tt,Z,i)=>{i.r(Z),i.d(Z,{MinuteClinicModule:()=>L});var m=i(9808),M=i(9516),p=i(3075),v=i(6727),T=i(2198),N=i(2994),U=i(7545),O=i(9563),d=i(8966),t=i(5e3),P=i(7423);let _=(()=>{class e{constructor(n,a){this.dialogRef=n,this.data=a}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.so),t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-appointment-confirm-dalog"]],decls:8,vars:4,consts:[["mat-dialog-title",""],["mat-raised-button","","data-cy","close-dialog",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"h2",0),t._uU(1,"Appointment Confirmation"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"mat-dialog-actions"),t.TgZ(6,"button",1),t.NdJ("click",function(){return a.dialogRef.close()}),t._uU(7,"CLOSE"),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.hij(" Congratulations! Your appointment for ",t.xi3(4,1,a.data.date,"medium")," is confirmed.\n"))},directives:[d.uh,d.xY,d.H8,P.lW],pipes:[m.uU],styles:["mat-dialog-actions[_ngcontent-%COMP%]{margin-top:30px}"]}),e})();var c=i(9884),u=i(4850),g=i(2340),b=i(520);let y=(()=>{class e{constructor(n){this.http=n}getAllAvailableAppointments(){return this.http.get(`${g.N.APPOINTMENTS_DOMAIN}/appointments`).pipe((0,u.U)(n=>Object.values(n)))}getAvailableAppointmentsForDate(n){return this.http.get(`${g.N.APPOINTMENTS_DOMAIN}/appointments`,{params:{filterByDate:n}}).pipe((0,u.U)(a=>Object.values(a)))}bookAppointment(n){return this.http.delete(`${g.N.APPOINTMENTS_DOMAIN}/appointments/${n}`)}deleteAppointment(n){return this.http.delete(`${g.N.APPOINTMENTS_DOMAIN}/appointments/${n}`)}addAppointment(n){return this.http.post(`${g.N.APPOINTMENTS_DOMAIN}/appointments`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(b.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),F=(()=>{class e{constructor(n){this.http=n}addAppointmentSubscription(n){return console.log("subscribing to appointment. subscription",n),this.http.post(`${g.N.APPOINTMENTS_DOMAIN}/subscriptions`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(b.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=i(342),Y=i(5492),w=i(4834),f=i(7322),$=i(4107),J=i(508),k=i(8833),h=i(6856);function q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw(4).bookAppointment(r)}),t._uU(1),t.ALo(2,"date"),t.qZA()}if(2&e){const n=o.$implicit,a=t.oxw(4);t.Q6J("disabled",!a.onlineService.isOnline),t.xp6(1),t.Oqu(t.xi3(2,2,n.date,"shortTime"))}}function E(e,o){if(1&e&&(t.TgZ(0,"div",28),t.TgZ(1,"div",29),t._uU(2," 471 Main St, Chatham S/c"),t._UZ(3,"br"),t._uU(4," Chatham, NJ 07928 "),t.qZA(),t.TgZ(5,"div",30),t._uU(6,"Available times"),t.qZA(),t.YNc(7,q,3,5,"button",31),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(7),t.Q6J("ngForOf",n)}}function R(e,o){1&e&&t._UZ(0,"div",33)}function Q(e,o){if(1&e&&(t.ynx(0),t.YNc(1,E,8,1,"div",26),t.YNc(2,R,1,0,"div",27),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.visitReasonAndTimeForm.valid),t.xp6(1),t.Q6J("ngIf",n.visitReasonAndTimeForm.valid)}}function z(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Q,3,2,"ng-container",25),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngIf",n.length>0)}}function V(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",34),t._uU(2,"No appointments are available at this time. Please subscribe to be notified"),t.qZA(),t.TgZ(3,"button",35),t.NdJ("click",function(){return t.CHM(n),t.oxw().subscribeToNotifications()}),t._uU(4,"SUBSCRIBE"),t.qZA(),t.BQk()}}let W=(()=>{class e{constructor(n,a,s,r,I,H,K,X){this.fb=n,this.appointmentsService=a,this.store=s,this.subscriptionService=r,this.confirmDialog=I,this.router=H,this.onlineService=K,this.swPush=X,this.visitReasonAndTimeForm=this.makeForm()}ngOnInit(){this.availableAppointments$=this.store.pipe((0,v.Ys)(O.RW)),this.selectAppointmentsTotal$=this.store.pipe((0,v.Ys)(O.mp)),this.visitReasonAndTimeForm.valueChanges.pipe((0,T.h)(()=>this.visitReasonAndTimeForm.valid),(0,N.b)(n=>this.store.dispatch((0,c.Jn)({date:n.date.toISOString().split("T")[0]})))).subscribe()}bookAppointment(n){console.log("booking appointment ",n.id),this.store.dispatch((0,c.V2)({id:n.id})),this.confirmDialog.open(_,{width:"350px",data:n}).afterClosed().subscribe(a=>{this.router.navigate(["/#/welcome"])})}subscribeToNotifications(){console.log("in subscribeToNotifications"),this.swPush.requestSubscription({serverPublicKey:"BIEKUUae_OqFj9IO1lA0HsHsvATAWD_py6IfK3hH53ajJ1XfWQsrDzH3E3uCyetyYWvp4Rq1s83Ty_XxGB67Pq4"}).then(n=>{console.log("pushSubscription",n),this.subscriptionService.addAppointmentSubscription(n).subscribe()})}retrieveAvailableAppointments(){return this.availableAppointments$=this.visitReasonAndTimeForm.valueChanges.pipe((0,T.h)(()=>this.visitReasonAndTimeForm.valid),(0,U.w)(n=>this.appointmentsService.getAvailableAppointmentsForDate(n.date.toISOString().split("T")[0])))}makeForm(){return this.fb.group({reasoneForVisit:["",p.kI.required],date:[new Date,p.kI.required]})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.qu),t.Y36(y),t.Y36(v.yh),t.Y36(F),t.Y36(d.uw),t.Y36(M.F0),t.Y36(D.x),t.Y36(Y.Mk))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-minute-clinic"]],decls:58,vars:9,consts:[[1,"page-content"],[1,"toolbar-row"],[1,"text-4xl","text-red-700","hidden","md:block"],[1,"spacer"],[1,"toolbar-menu-item"],[1,"reason-and-time"],[1,"reason-time-form"],[1,"disclaimer"],[1,"accent"],["novalidate","",3,"formGroup"],["formControlName","reasoneForVisit"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"results"],[4,"ngIf"],["class","results-data",4,"ngIf"],["class","results-map",4,"ngIf"],[1,"results-data"],[1,"address"],[1,"results-subheader"],["mat-raised-button","","data-cy","appointment-time","color","primary",3,"disabled","click",4,"ngFor","ngForOf"],["mat-raised-button","","data-cy","appointment-time","color","primary",3,"disabled","click"],[1,"results-map"],[1,"no-appointments-message"],["mat-raised-button","",3,"click"]],template:function(n,a){if(1&n&&(t.TgZ(0,"content"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t._uU(4,"Clinic Appointments"),t.qZA(),t._UZ(5,"div",3),t.TgZ(6,"div",4),t._uU(7,"In-Person Visit"),t.qZA(),t.TgZ(8,"div",4),t._uU(9,"Telehealth Visit"),t.qZA(),t.TgZ(10,"div",4),t._uU(11,"Insurance & Pricing"),t.qZA(),t.TgZ(12,"div",4),t._uU(13,"Pay Bill"),t.qZA(),t.qZA(),t._UZ(14,"mat-divider"),t.TgZ(15,"div",5),t.TgZ(16,"h1"),t._uU(17,"Select reason and time"),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"div",7),t.TgZ(20,"span",8),t._uU(21,"Please note:"),t.qZA(),t._uU(22," At this time, we can only test for coronavirus (COVID-19) inside some MinuteClinic\xae locations. To talk to a provider about your symptoms, set up a Telehealth Visit."),t.qZA(),t.TgZ(23,"form",9),t.TgZ(24,"mat-form-field"),t.TgZ(25,"mat-label"),t._uU(26,"Select reason for visit"),t.qZA(),t.TgZ(27,"mat-select",10),t.TgZ(28,"mat-option",11),t._uU(29,"Select Reason"),t.qZA(),t.TgZ(30,"mat-option",12),t._uU(31,"Flu Vaccine"),t.qZA(),t.TgZ(32,"mat-option",13),t._uU(33,"Pneumonia Vaccine"),t.qZA(),t.TgZ(34,"mat-option",14),t._uU(35,"Illness/Injury"),t.qZA(),t.TgZ(36,"mat-option",15),t._uU(37,"Skin Condition"),t.qZA(),t.TgZ(38,"mat-option",16),t._uU(39,"Vaccinations (Non-COVID)"),t.qZA(),t.TgZ(40,"mat-option",17),t._uU(41,"Wellness, Screening, Monitoring"),t.qZA(),t.TgZ(42,"mat-option",18),t._uU(43,"Physical"),t.qZA(),t.TgZ(44,"mat-option",19),t._uU(45,"DOT Physical"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"mat-form-field"),t.TgZ(47,"mat-label"),t._uU(48,"Select an available date"),t.qZA(),t._UZ(49,"input",20),t._UZ(50,"mat-datepicker-toggle",21),t._UZ(51,"mat-datepicker",22,23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",24),t.YNc(54,z,2,1,"ng-container",25),t.ALo(55,"async"),t.qZA(),t.YNc(56,V,5,0,"ng-container",25),t.ALo(57,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const s=t.MAs(52);t.xp6(23),t.Q6J("formGroup",a.visitReasonAndTimeForm),t.xp6(26),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(4),t.Q6J("ngIf",t.lcZ(55,5,a.availableAppointments$)),t.xp6(2),t.Q6J("ngIf",0===t.lcZ(57,7,a.selectAppointmentsTotal$)&&a.visitReasonAndTimeForm.valid)}},directives:[w.d,p._Y,p.JL,p.sg,f.KE,f.hX,$.gD,p.JJ,p.u,J.ey,k.Nt,p.Fj,h.hl,h.nW,f.R9,h.Mq,m.O5,m.sg,P.lW],pipes:[m.Ov,m.uU],styles:["content[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100%;align-items:center}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-toolbar[_ngcontent-%COMP%] > div.toolbar-row[_ngcontent-%COMP%]{display:flex;flex:0 1 1200px;flex-direction:row}div.toolbar-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;max-width:1200px;margin-top:20px}#minuteClinicId[_ngcontent-%COMP%]{height:25px;width:auto}@media (max-width: 1000px){#minuteClinicId[_ngcontent-%COMP%]{display:none}}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-menu-item[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:0 5px 0 10px}@media (max-width: 1000px){.toolbar-menu-item[_ngcontent-%COMP%]{font-weight:700;font-size:12px}}mat-divider[_ngcontent-%COMP%]{margin-top:20px}div.page-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:1200px;align-items:center}div.reason-and-time[_ngcontent-%COMP%]{width:100%}div.reason-and-time[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:10px 0}div.reason-and-time[_ngcontent-%COMP%]   .reason-time-form[_ngcontent-%COMP%]{background-color:#d3d3d3}div.reason-and-time[_ngcontent-%COMP%]   .reason-time-form[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{width:50%;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:22px;padding:10px 0 10px 10px}div.reason-and-time[_ngcontent-%COMP%]   .reason-time-form[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]   span.accent[_ngcontent-%COMP%]{font-weight:700}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;margin-top:20px}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]   .results-data[_ngcontent-%COMP%]{flex:1 1 auto;min-height:30px;min-width:300px;max-width:600px}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]   .results-map[_ngcontent-%COMP%]{flex:1 1 auto;min-width:300px;background-image:url(/assets/images/pharmacy-location-map.PNG);min-height:300px;background-position:center;background-repeat:no-repeat;background-size:cover}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{background-image:url(/assets/images/pharmacy-building-cvs.svg);background-size:contain;background-color:transparent;background-repeat:no-repeat;padding-left:45px;font:400 13.3333px Arial}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;margin-right:10px;margin-bottom:10px}div.reason-and-time[_ngcontent-%COMP%]   div.results[_ngcontent-%COMP%]   div.results-subheader[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:22px;font-weight:700;margin:20px 0 10px}mat-form-field[_ngcontent-%COMP%]{padding:20px}.no-appointments-message[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;font-size:18px}"]}),e})();var B=i(4466),S=i(4608),l=i(6517),A=i(1406),C=i(7221),x=i(1086);let G=(()=>{class e{constructor(n,a){this.actions$=n,this.appointmentsService=a,this.loadAppointments$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.Jn),(0,A.b)(s=>this.appointmentsService.getAvailableAppointmentsForDate(s.date).pipe((0,u.U)(r=>c.Qr({appointments:r})),(0,C.K)(r=>(0,x.of)(c.S8({error:r}))))))),this.deleteAppointment$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.V2),(0,A.b)(s=>this.appointmentsService.deleteAppointment(s.id).pipe((0,u.U)(r=>c.yF({id:s.id})),(0,C.K)(r=>(0,x.of)(c.S8({error:r}))))))),this.addAppointment$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(c.Fg),(0,A.b)(s=>this.appointmentsService.addAppointment(s.appointment).pipe((0,u.U)(r=>c.RF({appointment:r})),(0,C.K)(r=>(0,x.of)(c.md({error:r})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(l.eX),t.LFG(y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const j=[{path:"",component:W}];let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,B.m,M.Bz.forChild(j),v.Aw.forFeature(S.OD,S.I6),l.sQ.forFeature([G])]]}),e})()}}]);