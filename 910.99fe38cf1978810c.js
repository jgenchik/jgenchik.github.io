(self.webpackChunkcvs=self.webpackChunkcvs||[]).push([[910],{2910:(h,x,a)=>{"use strict";a.r(x),a.d(x,{WidgetsDataModule:()=>nt});var s=a(9808),g=a(9516),m=a(2994),d=a(2198),o=a(3075),p=a(8966),t=a(5e3),c=a(7322),_=a(8833),U=a(4107),f=a(508),u=a(2368),T=a(7423);function w(n,l){if(1&n&&(t.TgZ(0,"h2",3),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Modify ",e.data.widget.name,"")}}function Z(n,l){1&n&&(t.TgZ(0,"h2",3),t._uU(1,"New Widget"),t.qZA())}function C(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function A(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);let i;t.xp6(1),t.AsE(" Too short. Min length: ",null==(i=e.widgetForm.get("name"))||null==i.errors?null:i.errors.minlength.requiredLength," actual: ",null==(i=e.widgetForm.get("name"))||null==i.errors?null:i.errors.minlength.actualLength," ")}}function I(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function y(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);let i;t.xp6(1),t.AsE(" Too short. Min length: ",null==(i=e.widgetForm.get("description"))||null==i.errors?null:i.errors.minlength.requiredLength," actual: ",null==(i=e.widgetForm.get("description"))||null==i.errors?null:i.errors.minlength.actualLength," ")}}function N(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function D(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);let i;t.xp6(1),t.hij(" Can't be less than ",null==(i=e.widgetForm.get("price"))||null==i.errors?null:i.errors.min.min," ")}}function Q(n,l){if(1&n&&(t.TgZ(0,"mat-dialog-content"),t.TgZ(1,"form",4),t.TgZ(2,"div",5),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",6),t.YNc(5,C,2,0,"mat-error",1),t.YNc(6,A,2,2,"mat-error",1),t.qZA(),t.TgZ(7,"mat-form-field"),t._UZ(8,"textarea",7),t.YNc(9,I,2,0,"mat-error",1),t.YNc(10,y,2,2,"mat-error",1),t.qZA(),t.TgZ(11,"mat-form-field"),t.TgZ(12,"mat-label"),t._uU(13,"Price"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,N,2,0,"mat-error",1),t.YNc(16,D,2,1,"mat-error",1),t.qZA(),t.TgZ(17,"mat-form-field"),t.TgZ(18,"mat-label"),t._uU(19,"Color"),t.qZA(),t.TgZ(20,"mat-select",9),t.TgZ(21,"mat-option",10),t._uU(22,"BLUE"),t.qZA(),t.TgZ(23,"mat-option",11),t._uU(24,"RED"),t.qZA(),t.TgZ(25,"mat-option",12),t._uU(26,"GREEN"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"mat-slide-toggle",13),t._uU(28,"Sale"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();let i,r,v,E,Y,L;t.xp6(1),t.Q6J("formGroup",e.widgetForm),t.xp6(4),t.Q6J("ngIf",null==(i=e.widgetForm.get("name"))?null:i.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=e.widgetForm.get("name"))?null:r.hasError("minlength")),t.xp6(3),t.Q6J("ngIf",null==(v=e.widgetForm.get("description"))?null:v.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(E=e.widgetForm.get("description"))?null:E.hasError("minlength")),t.xp6(5),t.Q6J("ngIf",null==(Y=e.widgetForm.get("price"))?null:Y.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(L=e.widgetForm.get("price"))?null:L.hasError("min"))}}function P(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().modifyWidget()}),t._uU(1,"SAVE"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!(null!=e.widgetForm&&e.widgetForm.valid))}}function G(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().addWidget()}),t._uU(1,"ADD"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!(null!=e.widgetForm&&e.widgetForm.valid))}}let k=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.fb=r}ngOnInit(){this.widgetForm="update"==this.data.mode?this.makeForm():this.makeNewForm()}modifyWidget(){const e=this.widgetForm?Object.assign(Object.assign({},this.widgetForm.value),{id:this.data.widget.id}):void 0;this.dialogRef.close(e)}addWidget(){var e;this.dialogRef.close(null===(e=this.widgetForm)||void 0===e?void 0:e.value)}makeForm(){return this.fb.group({name:[this.data.widget.name,[o.kI.required,o.kI.minLength(2)]],description:[this.data.widget.description,[o.kI.required,,o.kI.minLength(10)]],price:[this.data.widget.price,[o.kI.required,o.kI.min(0)]],color:[this.data.widget.color,o.kI.required],sale:[this.data.widget.sale]})}makeNewForm(){return this.fb.group({name:["",[o.kI.required,o.kI.minLength(2)]],description:["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",[o.kI.required,,o.kI.minLength(10)]],price:[null,[o.kI.required,o.kI.min(0)]],color:[null,o.kI.required],sale:[!1]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.so),t.Y36(p.WI),t.Y36(o.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modify-widget-dialog"]],decls:6,vars:5,consts:[["mat-dialog-title","",4,"ngIf"],[4,"ngIf"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-dialog-title",""],["novalidate","",3,"formGroup"],[1,"container","flex","flex-col"],["matInput","","placeholder","Nane","formControlName","name"],["matInput","","formControlName","description","rows","5"],["matInput","","formControlName","price"],["formControlName","color"],["value","BLUE"],["value","RED"],["value","GREEN"],["formControlName","sale"],["mat-raised-button","",3,"disabled","click"]],template:function(e,i){1&e&&(t.YNc(0,w,2,1,"h2",0),t.YNc(1,Z,2,0,"h2",0),t.YNc(2,Q,29,7,"mat-dialog-content",1),t.TgZ(3,"mat-dialog-actions"),t.YNc(4,P,2,1,"button",2),t.YNc(5,G,2,1,"button",2),t.qZA()),2&e&&(t.Q6J("ngIf","update"===i.data.mode),t.xp6(1),t.Q6J("ngIf","new"===i.data.mode),t.xp6(1),t.Q6J("ngIf",i.widgetForm),t.xp6(2),t.Q6J("ngIf","update"===i.data.mode),t.xp6(1),t.Q6J("ngIf","new"===i.data.mode))},directives:[s.O5,p.uh,p.xY,o._Y,o.JL,o.sg,c.KE,_.Nt,o.Fj,o.JJ,o.u,c.TO,c.hX,U.gD,f.ey,u.Rr,p.H8,T.lW],styles:[""]}),n})();var W=a(5136);let J=(()=>{class n extends W.c8{constructor(e){super("Widget",e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W.yV))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var M=a(7489),H=a(9444);let j=(()=>{class n{constructor(){}makeWidget(e=!0){const i=M.random(1,3),r=1===i?"BLUE":2===i?"RED":"GREEN",v=M.random(10,999);let E;return E={name:"Dummy-"+M.random(1,9999),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:v,color:r,sale:v<300},e&&(E.id=(0,H.v4)()),E}makeWidgets(e=3,i=!0){const r=[];for(let v=0;v<e;v++)r.push(this.makeWidget(i));return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=a(5245),q=a(9224),V=a(7446);function z(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",1),t.TgZ(1,"mat-card-title",2),t.TgZ(2,"h2",3),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"mat-card-content"),t.TgZ(5,"mat-form-field"),t.TgZ(6,"mat-label"),t._uU(7,"Id"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"mat-form-field"),t.TgZ(10,"mat-label"),t._uU(11,"Price"),t.qZA(),t._UZ(12,"input",4),t.ALo(13,"currency"),t.qZA(),t.TgZ(14,"mat-form-field"),t.TgZ(15,"mat-label"),t._uU(16,"Color"),t.qZA(),t._UZ(17,"input",4),t.qZA(),t.TgZ(18,"mat-form-field"),t.TgZ(19,"mat-label"),t._uU(20,"Description"),t.qZA(),t._UZ(21,"textarea",4),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"mat-slide-toggle",5,6),t.NdJ("change",function(r){return t.CHM(e),t.oxw().saleToggled(r)}),t._uU(25,"Sale"),t.qZA(),t.TgZ(26,"mat-checkbox",7),t.NdJ("change",function(r){return t.CHM(e),t.oxw().saleToggled(r)}),t._uU(27,"Sale"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"mat-card-actions"),t.TgZ(29,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteWidget()}),t.TgZ(30,"mat-icon"),t._uU(31,"delete"),t.qZA(),t.qZA(),t.TgZ(32,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().showModifyDialog()}),t.TgZ(33,"mat-icon"),t._uU(34,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();let i;t.xp6(1),t.ekj("bg-blue-300","BLUE"===e.widget.color)("bg-red-300","RED"===e.widget.color)("bg-green-300","GREEN"===e.widget.color),t.xp6(2),t.Oqu(e.widget.name),t.xp6(5),t.Q6J("value",null==e.widget?null:e.widget.id),t.xp6(4),t.Q6J("value",t.lcZ(13,13,null==e.widget?null:e.widget.price)),t.xp6(5),t.Q6J("value",null==e.widget?null:e.widget.color),t.xp6(4),t.Q6J("value",null==e.widget?null:e.widget.description),t.xp6(2),t.Q6J("checked",null==e.widget?null:e.widget.sale),t.xp6(3),t.Q6J("checked",null!==(i=null==e.widget?null:e.widget.sale)&&void 0!==i&&i)}}let X=(()=>{class n{constructor(e){this.dialog=e,this.deleteEvent=new t.vpe,this.updateEvent=new t.vpe}ngOnInit(){}deleteWidget(){this.deleteEvent.emit(this.widget)}showModifyDialog(){this.dialog.open(k,{width:"450px",data:{widget:this.widget,mode:"update"}}).afterClosed().subscribe(i=>{console.log("The dialog was closed",i),i&&this.updateEvent.emit(i)})}saleToggled(e){var i,r;e.source.checked=null!==(r=null===(i=this.widget)||void 0===i?void 0:i.sale)&&void 0!==r&&r}saleClicked(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-widget-card"]],inputs:{widget:"widget"},outputs:{deleteEvent:"deleteEvent",updateEvent:"updateEvent"},decls:1,vars:1,consts:[["class","mat-elevation-z6",4,"ngIf"],[1,"mat-elevation-z6"],[1,"py-2"],[1,"ml-2"],["matInput","","readonly","",3,"value"],["readonly","",3,"checked","change"],["saleToggle",""],["readonly","",1,"ml-2","align-top",3,"checked","change"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","accent",3,"click"]],template:function(e,i){1&e&&t.YNc(0,z,35,15,"mat-card",0),2&e&&t.Q6J("ngIf",i.widget)},directives:[s.O5,q.a8,q.n5,q.dn,c.KE,c.hX,_.Nt,u.Rr,V.oG,q.hq,T.lW,b.Hw],pipes:[s.H9],styles:["mat-card[_ngcontent-%COMP%]{min-width:350px;max-width:600px}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:10px}"]}),n})();function $(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-widget-card",5),t.NdJ("deleteEvent",function(r){return t.CHM(e),t.oxw().deleteWidget(r)})("updateEvent",function(r){return t.CHM(e),t.oxw().updateWidget(r)}),t.qZA()}2&n&&t.Q6J("widget",l.$implicit)}let K=(()=>{class n{constructor(e,i,r){this.widgetsService=e,this.dummyWidgetService=i,this.dialog=r}ngOnInit(){this.widgetsService.loaded$.pipe((0,m.b)(e=>{e||this.widgetsService.getAll()})).subscribe(),this.widgets$=this.widgetsService.entities$}deleteWidget(e){this.widgetsService.delete(e)}showAddWidgetDialog(){this.dialog.open(k,{width:"450px",data:{widget:void 0,mode:"new"}}).afterClosed().pipe((0,d.h)(i=>!!i)).subscribe(i=>{this.widgetsService.add(i)})}updateWidget(e){this.widgetsService.update(e)}addDummyWidget(){const e=this.dummyWidgetService.makeWidget();this.widgetsService.add(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J),t.Y36(j),t.Y36(p.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-widgets-data"]],decls:9,vars:3,consts:[[1,"header-buttons"],["id","add-dummy-widget","mat-raised-button","",3,"click"],["mat-mini-fab","","color","accent",1,"add-widget",3,"click"],[1,"all-widgets"],[3,"widget","deleteEvent","updateEvent",4,"ngFor","ngForOf"],[3,"widget","deleteEvent","updateEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return i.addDummyWidget()}),t._uU(2,"ADD DUMMY"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.showAddWidgetDialog()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.YNc(7,$,1,1,"app-widget-card",4),t.ALo(8,"async"),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,1,i.widgets$)))},directives:[T.lW,b.Hw,s.sg,X],pipes:[s.Ov],styles:[".all-widgets[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:start;gap:20px;margin-left:1.25rem;margin-right:1.25rem}div.header-buttons[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;display:flex;flex-direction:row;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding-top:1rem;padding-bottom:1rem}button#add-dummy-widget[_ngcontent-%COMP%]{margin-left:2rem}button.add-widget[_ngcontent-%COMP%]{margin-left:auto;margin-right:2rem}"]}),n})();var S=a(4850),F=a(2340),B=a(520);let O=(()=>{class n extends W.EJ{constructor(e,i,r){super("Widget",e,i),r.log("Created custom Widget EntityDataService")}add(e){return this.http.post(F.N.APPOINTMENTS_DOMAIN+"/widgets",e)}getAll(){return this.http.get(F.N.APPOINTMENTS_DOMAIN+"/widgets").pipe((0,S.U)(e=>Object.values(e)))}delete(e){return this.http.delete(F.N.APPOINTMENTS_DOMAIN+"/widgets/"+e).pipe((0,S.U)(i=>0))}update(e){return this.http.put(F.N.APPOINTMENTS_DOMAIN+"/widgets/"+e.id,e.changes)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(B.eN),t.LFG(W.hR),t.LFG(W.Yd))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var tt=a(4466);const et=[{path:"",component:K}],R={Widget:{}};let nt=(()=>{class n{constructor(e,i,r){this.eds=e,this.entityDataService=i,this.widgetDataService=r,e.registerMetadataMap(R),i.registerService("Widget",r)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W.f0),t.LFG(W.sP),t.LFG(O))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[J,O,{provide:W.TI,multi:!0,useValue:R}],imports:[[s.ez,tt.m,g.Bz.forChild(et)]]}),n})()},9444:(h,x,a)=>{var s=a(4542),g=a(6926),m=g;m.v1=s,m.v4=g,h.exports=m},7805:h=>{for(var x=[],a=0;a<256;++a)x[a]=(a+256).toString(16).substr(1);h.exports=function s(g,m){var d=m||0;return[x[g[d++]],x[g[d++]],x[g[d++]],x[g[d++]],"-",x[g[d++]],x[g[d++]],"-",x[g[d++]],x[g[d++]],"-",x[g[d++]],x[g[d++]],"-",x[g[d++]],x[g[d++]],x[g[d++]],x[g[d++]],x[g[d++]],x[g[d++]]].join("")}},7142:h=>{var x="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(x){var a=new Uint8Array(16);h.exports=function(){return x(a),a}}else{var s=new Array(16);h.exports=function(){for(var d,m=0;m<16;m++)0==(3&m)&&(d=4294967296*Math.random()),s[m]=d>>>((3&m)<<3)&255;return s}}},4542:(h,x,a)=>{var m,d,s=a(7142),g=a(7805),o=0,p=0;h.exports=function t(c,_,U){var f=_&&U||0,u=_||[],T=(c=c||{}).node||m,w=void 0!==c.clockseq?c.clockseq:d;if(null==T||null==w){var Z=s();null==T&&(T=m=[1|Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]]),null==w&&(w=d=16383&(Z[6]<<8|Z[7]))}var C=void 0!==c.msecs?c.msecs:(new Date).getTime(),A=void 0!==c.nsecs?c.nsecs:p+1,I=C-o+(A-p)/1e4;if(I<0&&void 0===c.clockseq&&(w=w+1&16383),(I<0||C>o)&&void 0===c.nsecs&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=C,p=A,d=w;var y=(1e4*(268435455&(C+=122192928e5))+A)%4294967296;u[f++]=y>>>24&255,u[f++]=y>>>16&255,u[f++]=y>>>8&255,u[f++]=255&y;var N=C/4294967296*1e4&268435455;u[f++]=N>>>8&255,u[f++]=255&N,u[f++]=N>>>24&15|16,u[f++]=N>>>16&255,u[f++]=w>>>8|128,u[f++]=255&w;for(var D=0;D<6;++D)u[f+D]=T[D];return _||g(u)}},6926:(h,x,a)=>{var s=a(7142),g=a(7805);h.exports=function m(d,o,p){var t=o&&p||0;"string"==typeof d&&(o="binary"===d?new Array(16):null,d=null);var c=(d=d||{}).random||(d.rng||s)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,o)for(var _=0;_<16;++_)o[t+_]=c[_];return o||g(c)}}}]);